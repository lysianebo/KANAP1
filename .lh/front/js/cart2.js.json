{
    "sourceFile": "front/js/cart2.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 128,
            "patches": [
                {
                    "date": 1677590648556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1677590657954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,305 +0,0 @@\n-\n-Skip to content\n-Pull requests\n-Issues\n-Codespaces\n-Marketplace\n-Explore\n-@lysianebo\n-lysianebo /\n-KANAP\n-Public\n-\n-Cannot fork because you own this repository and are not a member of any organizations.\n-\n-Code\n-Issues\n-Pull requests\n-Actions\n-Projects\n-Wiki\n-Security\n-Insights\n-\n-    Settings\n-\n-Beta Try the new code view\n-KANAP/front/js/cart.js /\n-@lysianebo\n-lysianebo cart\n-Latest commit 3568c55 Feb 24, 2023\n-History\n-1 contributor\n-255 lines (229 sloc) 9.51 KB\n-let panier = localStorage.getItem(\"panier\") \n-if(panier) panier = JSON.parse(panier);\n-console.log(\"panier\",panier)\n-loadPage()\n-\n-async function loadPage(){\n-    let priceTotal = 0\n-    let numberTotal = 0\n-    let product =\"\"\n-    let item =\"\"\n-    for await (let item of panier){\n-        let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n-            .then((res) => res.json())\n-        \n-            priceTotal += Number(product.price)* Number(item.quantity);\n-        numberTotal += Number(item.quantity);\n-       makeArticle(product) \n-       console.dir({product}, {item})\n-    }\n- //  displayTotalQuantity(numberTotal)\n-  // displayTotalPrice(priceTotal)\n-\n-   //console.dir({product})\n-}\n-//***********  MISE EN PAGE DE L'ARTICLE  *******************\n-\n-async function makeArticle(product){\n-   // let product=\"\"\n-    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n-    .then((res) => res.json())\n-\n-   // console.dir({product},{item})\n-    \n-    const Article = document.createElement(\"article\")\n-        Article.classList.add(\"cart__item\")\n-        Article.dataset.id = product._id\n-        Article.dataset.color = product.colors\n-        document.getElementById(\"cart__items\").appendChild(Article)\n-\n-        const divImg = document.createElement(\"div\")\n-              divImg.classList.add(\"cart__item__img\")\n-                const image = document.createElement(\"img\")\n-                image.src = product.imageUrl\n-                image.alt = product.altxt\n-              divImg.appendChild(image)\n-        \n-        const contentDiv = document.createElement('div')\n-              contentDiv.classList.add(\"cart__item__content\")\n-\n-              const descriptionDiv = document.createElement(\"div\")\n-                    descriptionDiv.classList.add(\"cart__item__content__description\")\n-                    const h2= document.createElement(\"h2\")\n-                          h2.textContent = product.name\n-                    const p = document.createElement(\"p\")\n-                          p.textContent = item.color\n-                    const p2 = document.createElement(\"p\")\n-                          p2.textContent = product.price  * item.quantity + \"€\" //prix en rapport avec la quantité\n-              const settingsDiv = document.createElement(\"div\")\n-                    settingsDiv.classList.add(\"cart__item__content__settings\")\n-                        const settingsQuantityDiv = document.createElement(\"div\")\n-                              settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n-                        const quantityP = document.createElement(\"p\")\n-                              quantityP.textContent =\"Qté : \"\n- \n-//***********Copie de function  quantityInputToOrder   *******************       \n-\n-                const input = document.createElement(\"input\")\n-                input.type = \"number\"\n-                input.classList.add(\"productQuantity\")\n-                input.name =\"productQuantity\"\n-                input.min =\"1\"\n-                input.max =\"100\"\n-                input.value = item.quantity\n-                //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n-                input.addEventListener(\"change\",   function(event) {\n-                    const article = event.target.closest(\"article.cart__item\")\n-                    const productId = article.dataset.id\n-                    const productColor = article.dataset.color\n-                    const itemToDelete = panier.findIndex(product =>\n-                        productId === product.id && productColor === product.color)\n-                    if(itemToDelete !== -1){\n-                        panier[itemToDelete].quantity = this.value\n-                        savePanier(panier)\n-                        loadPage()\n-                    }\n-                })\n-//***********Fin de Copie de function  quantityInputToOrder   *******************    \n-\n-//***********Copie de function  deleteProduct(item)   *******************  \n-\n-        const contentDelete = document.createElement(\"div\")\n-        contentDelete.classList.add(\"cart__item__content__settings__delete\")\n-            const deleteP = document.createElement(\"p\")\n-            deleteP.classList.add(\"deleteproduct\")\n-            deleteP.textContent =\"Supprimer\"\n-            //deleteP.addEventListener(\"click\", (d) =>deleteProduct(item))\n-            deleteP.addEventListener(\"click\", function(event){\n-                const article = event.target.closest(\"article.cart__item\")\n-                const productId = article.dataset.id\n-                const productColor = article.dataset.color\n-                const itemToDelete = panier.findIndex(product =>\n-                productId === product.id && productColor === product.color)\n-                if(itemToDelete !== -1){\n-                    panier.splice(itemToDelete, 1)\n-                    article.remove()\n-                    savePanier(panier)\n-                    loadPage()\n-                }\n-            })\n-//***********Fin de function  deleteProduct(item)  *******************  \n-                     \n-        appendtoArticle(Article, [divImg, contentDiv])\n-        appendtoArticle(contentDiv, [descriptionDiv, settingsDiv])\n-        appendtoArticle(settingsDiv, [settingsQuantityDiv, contentDelete])\n-        appendtoArticle(descriptionDiv, [h2, p, p2])\n-        appendtoArticle(settingsQuantityDiv, [quantityP, input])\n-        appendtoArticle(contentDelete, [deleteP])\n-                        \n-        return { number : item.quantity, price: product.price}\n-}   \n-//***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n-function appendtoArticle(article, array) {\n-    array.forEach(item => {\n-    article.appendChild(item)\n-})\n-}\n-function displayTotalPrice(price){\n-    const totalPrice = document.querySelector(\"#totalPrice\")\n-    totalPrice.textContent = product.price\n- }\n- function displayTotalQuantity(quantity){\n-    const totalQuantity = document.querySelector(\"#totalQuantity\")\n-          totalQuantity.textContent = item.quantity\n- }\n- function QuantityInputToOrder(){\n-    const input = document.createElement(\"input\")\n-        input.type = \"number\"\n-        input.classList.add(\"itemQuantity\")\n-        input.name =\"itemQuantity\"\n-        input.min =\"1\"\n-        input.max =\"100\"\n-        input.value = item.quantity\n-        //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n-            if (input.value != item.quantity){\n-                const newQuantity = document.querySelector(\".itemQuantity\").value;\n-            }else{\n-                input.value = item.quantity\n-            }\n-    console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n-\n-    }\n-// function updatePriceQuantity(id, newValue, item){\n-    //const itemToUpdate = panier.find((item) => item.id === id)\n-    //itemToUpdate.quantity = Number(newValue)\n-    //item.quantity = itemToUpdate.quantity\n-    //displayTotalQuantity()\n-    //displayTotalPrice()\n-    //deleteDataFromCache(item)\n- //}\n-\n-// function updatePriceQuantity(id, newValue, item){\n-   // \n-    //item.quantity = document.querySelector(\".itemQuantity\")\n-   // p2.textContent = product.price * input.value + \"€\"\n-   //const selectElement = document.querySelector(\".itemQuantity\");\n-\n-  // selectElement.addEventListener('change', (event) => {\n-     //const result = document.querySelector(\".itemQuantity\").value;\n-     //result.textContent = `${event.target.value}`;\n-  // });\n-\n-function savePanier(panier){\n-    localStorage.setItem(\"panier\", JSON.stringify(panier))\n-}\n-\n-const orderButton = document.querySelector(\"#order\")\n-      orderButton.addEventListener(\"click\", (e) => submitForm(e))\n-\n-function submitForm(e){\n-e.preventDefault() //ne pas rafraîchir\n-if (panier.lenght === 0) alert (\"Sélectionnez votre canapé\")\n-//return\n-\n-//if (formIsInvalid()) return\n-if (emailIsInvalid()) return\n-\n-const body = makeRequestBody()\n-fetch(\"http://localhost:3000/api/products/order\",{\n-method : \"POST\",\n-body: JSON.stringify(body),\n-Headers:{\n-    \"Content-type\":\"appplication/json\"\n-}\n-})\n-.then((res) => res.json())\n-.then((data) => {\n-const orderId = data.orderId\n-window.location.href = \"confirmation.html\" + \"?orderId=\" + orderId\n-})\n-.catch((err) => console.error(err))\n-}\n-function formIsInvalid(){\n-   // const form = document.querySelector(\"cart__order__form\")\n-   const inputs = form.querySelectorAll(\"input\")\n-    inputs.forEach((input) =>{\n-        if (input.value === \"\"){\n-            alert(\"Vous devez compléter ce champ\")\n-            return true\n-        }\n-        return false\n-    })\n-}\n-function emailIsInvalid(){\n-    const email = document.querySelector(\"#email\").value\n-    const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n-    if (regex.test(email) === false) {\n-        alert (\"Votre adresse mail n'est pas valide\")\n-        return true\n-    }\n-    return false\n-}\n-\n-function makeRequestBody(){\n-    const form = document.querySelector(\"cart__order__form\")\n-    inputFirstame = document.getElementById(\"firstName\").value;\n-    inputLastname = document.getElementById(\"lastName\").value;\n-    inputAddress = document.getElementById(\"address\").value;\n-    inputCity = document.getElementById(\"city\").value;\n-    inputEmail = document.getElementById(\"email\").value;\n-\n-    const body = {\n-    contact: {\n-        firstName: firstName,\n-        lastName: lastName,\n-        address: address,\n-        city: city,\n-        email: email\n-      }\n-      //products: getIdsFromCache()\n-    }\n-    return body\n-}\n-//pas besoin de faire split si seulement key et pas color\n-function getIdsFromCache(){\n-    const numberOfProducts = localStorage-length\n-    const ids = []\n-    for (let i = 0; i < numberOfProducts; i++){\n-    const key = localStorage.key(i)\n-    const id = key-split(\"-\")[0]\n-    //const id = key-split(\"-\")[0]\n-\n-    ids.push(id)\n-    }\n-    return ids\n-}\n-Footer\n-© 2023 GitHub, Inc.\n-Footer navigation\n-\n-    Terms\n-    Privacy\n-    Security\n-    Status\n-    Docs\n-    Contact GitHub\n-    Pricing\n-    API\n-    Training\n-    Blog\n-    About\n-\n-KANAP/cart.js at main · lysianebo/KANAP\n\\ No newline at end of file\n"
                },
                {
                    "date": 1677590679919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,255 @@\n+let panier = localStorage.getItem(\"panier\") \n+if(panier) panier = JSON.parse(panier);\n+console.log(\"panier\",panier)\n+loadPage()\n \n+async function loadPage(){\n+    let priceTotal = 0\n+    let numberTotal = 0\n+    let product =\"\"\n+    let item =\"\"\n+    for await (let item of panier){\n+        let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n+            .then((res) => res.json())\n+        \n+            priceTotal += Number(product.price)* Number(item.quantity);\n+        numberTotal += Number(item.quantity);\n+       makeArticle(product) \n+       console.dir({product}, {item})\n+    }\n+ //  displayTotalQuantity(numberTotal)\n+  // displayTotalPrice(priceTotal)\n+\n+   //console.dir({product})\n+}\n+//***********  MISE EN PAGE DE L'ARTICLE  *******************\n+\n+async function makeArticle(product){\n+   // let product=\"\"\n+    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n+    .then((res) => res.json())\n+\n+   // console.dir({product},{item})\n+    \n+    const Article = document.createElement(\"article\")\n+        Article.classList.add(\"cart__item\")\n+        Article.dataset.id = product._id\n+        Article.dataset.color = product.colors\n+        document.getElementById(\"cart__items\").appendChild(Article)\n+\n+        const divImg = document.createElement(\"div\")\n+              divImg.classList.add(\"cart__item__img\")\n+                const image = document.createElement(\"img\")\n+                image.src = product.imageUrl\n+                image.alt = product.altxt\n+              divImg.appendChild(image)\n+        \n+        const contentDiv = document.createElement('div')\n+              contentDiv.classList.add(\"cart__item__content\")\n+\n+              const descriptionDiv = document.createElement(\"div\")\n+                    descriptionDiv.classList.add(\"cart__item__content__description\")\n+                    const h2= document.createElement(\"h2\")\n+                          h2.textContent = product.name\n+                    const p = document.createElement(\"p\")\n+                          p.textContent = item.color\n+                    const p2 = document.createElement(\"p\")\n+                          p2.textContent = product.price  * item.quantity + \"€\" //prix en rapport avec la quantité\n+              const settingsDiv = document.createElement(\"div\")\n+                    settingsDiv.classList.add(\"cart__item__content__settings\")\n+                        const settingsQuantityDiv = document.createElement(\"div\")\n+                              settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n+                        const quantityP = document.createElement(\"p\")\n+                              quantityP.textContent =\"Qté : \"\n+ \n+//***********Copie de function  quantityInputToOrder   *******************       \n+\n+                const input = document.createElement(\"input\")\n+                input.type = \"number\"\n+                input.classList.add(\"productQuantity\")\n+                input.name =\"productQuantity\"\n+                input.min =\"1\"\n+                input.max =\"100\"\n+                input.value = item.quantity\n+                //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n+                input.addEventListener(\"change\",   function(event) {\n+                    const article = event.target.closest(\"article.cart__item\")\n+                    const productId = article.dataset.id\n+                    const productColor = article.dataset.color\n+                    const itemToDelete = panier.findIndex(product =>\n+                        productId === product.id && productColor === product.color)\n+                    if(itemToDelete !== -1){\n+                        panier[itemToDelete].quantity = this.value\n+                        savePanier(panier)\n+                        loadPage()\n+                    }\n+                })\n+//***********Fin de Copie de function  quantityInputToOrder   *******************    \n+\n+//***********Copie de function  deleteProduct(item)   *******************  \n+\n+        const contentDelete = document.createElement(\"div\")\n+        contentDelete.classList.add(\"cart__item__content__settings__delete\")\n+            const deleteP = document.createElement(\"p\")\n+            deleteP.classList.add(\"deleteproduct\")\n+            deleteP.textContent =\"Supprimer\"\n+            //deleteP.addEventListener(\"click\", (d) =>deleteProduct(item))\n+            deleteP.addEventListener(\"click\", function(event){\n+                const article = event.target.closest(\"article.cart__item\")\n+                const productId = article.dataset.id\n+                const productColor = article.dataset.color\n+                const itemToDelete = panier.findIndex(product =>\n+                productId === product.id && productColor === product.color)\n+                if(itemToDelete !== -1){\n+                    panier.splice(itemToDelete, 1)\n+                    article.remove()\n+                    savePanier(panier)\n+                    loadPage()\n+                }\n+            })\n+//***********Fin de function  deleteProduct(item)  *******************  \n+                     \n+        appendtoArticle(Article, [divImg, contentDiv])\n+        appendtoArticle(contentDiv, [descriptionDiv, settingsDiv])\n+        appendtoArticle(settingsDiv, [settingsQuantityDiv, contentDelete])\n+        appendtoArticle(descriptionDiv, [h2, p, p2])\n+        appendtoArticle(settingsQuantityDiv, [quantityP, input])\n+        appendtoArticle(contentDelete, [deleteP])\n+                        \n+        return { number : item.quantity, price: product.price}\n+}   \n+//***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n+function appendtoArticle(article, array) {\n+    array.forEach(item => {\n+    article.appendChild(item)\n+})\n+}\n+function displayTotalPrice(price){\n+    const totalPrice = document.querySelector(\"#totalPrice\")\n+    totalPrice.textContent = product.price\n+ }\n+ function displayTotalQuantity(quantity){\n+    const totalQuantity = document.querySelector(\"#totalQuantity\")\n+          totalQuantity.textContent = item.quantity\n+ }\n+ function QuantityInputToOrder(){\n+    const input = document.createElement(\"input\")\n+        input.type = \"number\"\n+        input.classList.add(\"itemQuantity\")\n+        input.name =\"itemQuantity\"\n+        input.min =\"1\"\n+        input.max =\"100\"\n+        input.value = item.quantity\n+        //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n+            if (input.value != item.quantity){\n+                const newQuantity = document.querySelector(\".itemQuantity\").value;\n+            }else{\n+                input.value = item.quantity\n+            }\n+    console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n+\n+    }\n+// function updatePriceQuantity(id, newValue, item){\n+    //const itemToUpdate = panier.find((item) => item.id === id)\n+    //itemToUpdate.quantity = Number(newValue)\n+    //item.quantity = itemToUpdate.quantity\n+    //displayTotalQuantity()\n+    //displayTotalPrice()\n+    //deleteDataFromCache(item)\n+ //}\n+\n+// function updatePriceQuantity(id, newValue, item){\n+   // \n+    //item.quantity = document.querySelector(\".itemQuantity\")\n+   // p2.textContent = product.price * input.value + \"€\"\n+   //const selectElement = document.querySelector(\".itemQuantity\");\n+\n+  // selectElement.addEventListener('change', (event) => {\n+     //const result = document.querySelector(\".itemQuantity\").value;\n+     //result.textContent = `${event.target.value}`;\n+  // });\n+\n+function savePanier(panier){\n+    localStorage.setItem(\"panier\", JSON.stringify(panier))\n+}\n+\n+const orderButton = document.querySelector(\"#order\")\n+      orderButton.addEventListener(\"click\", (e) => submitForm(e))\n+\n+function submitForm(e){\n+e.preventDefault() //ne pas rafraîchir\n+if (panier.lenght === 0) alert (\"Sélectionnez votre canapé\")\n+//return\n+\n+//if (formIsInvalid()) return\n+if (emailIsInvalid()) return\n+\n+const body = makeRequestBody()\n+fetch(\"http://localhost:3000/api/products/order\",{\n+method : \"POST\",\n+body: JSON.stringify(body),\n+Headers:{\n+    \"Content-type\":\"appplication/json\"\n+}\n+})\n+.then((res) => res.json())\n+.then((data) => {\n+const orderId = data.orderId\n+window.location.href = \"confirmation.html\" + \"?orderId=\" + orderId\n+})\n+.catch((err) => console.error(err))\n+}\n+function formIsInvalid(){\n+   // const form = document.querySelector(\"cart__order__form\")\n+   const inputs = form.querySelectorAll(\"input\")\n+    inputs.forEach((input) =>{\n+        if (input.value === \"\"){\n+            alert(\"Vous devez compléter ce champ\")\n+            return true\n+        }\n+        return false\n+    })\n+}\n+function emailIsInvalid(){\n+    const email = document.querySelector(\"#email\").value\n+    const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n+    if (regex.test(email) === false) {\n+        alert (\"Votre adresse mail n'est pas valide\")\n+        return true\n+    }\n+    return false\n+}\n+\n+function makeRequestBody(){\n+    const form = document.querySelector(\"cart__order__form\")\n+    inputFirstame = document.getElementById(\"firstName\").value;\n+    inputLastname = document.getElementById(\"lastName\").value;\n+    inputAddress = document.getElementById(\"address\").value;\n+    inputCity = document.getElementById(\"city\").value;\n+    inputEmail = document.getElementById(\"email\").value;\n+\n+    const body = {\n+    contact: {\n+        firstName: firstName,\n+        lastName: lastName,\n+        address: address,\n+        city: city,\n+        email: email\n+      }\n+      //products: getIdsFromCache()\n+    }\n+    return body\n+}\n+//pas besoin de faire split si seulement key et pas color\n+function getIdsFromCache(){\n+    const numberOfProducts = localStorage-length\n+    const ids = []\n+    for (let i = 0; i < numberOfProducts; i++){\n+    const key = localStorage.key(i)\n+    const id = key-split(\"-\")[0]\n+    //const id = key-split(\"-\")[0]\n+\n+    ids.push(id)\n+    }\n+    return ids\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1677590907408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n \n    // console.dir({product},{item})\n-    \n+    const price = \n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.colors\n"
                },
                {
                    "date": 1677590914952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n \n    // console.dir({product},{item})\n-    const price = \n+    const price = product\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.colors\n"
                },
                {
                    "date": 1677590953417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n \n    // console.dir({product},{item})\n-    const price = product\n+    const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.colors\n@@ -53,9 +53,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = product.price  * item.quantity + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = price  * item.quantity + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677590984072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = price  * item.quantity + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = productprice  * item.quantity + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677590991801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = productprice  * item.quantity + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = price  * item.quantity + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677591048250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n         \n             priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n        makeArticle(product) \n-       console.dir({product}, {item})\n+       console.dir({product.price}, {item})\n     }\n  //  displayTotalQuantity(numberTotal)\n   // displayTotalPrice(priceTotal)\n \n"
                },
                {
                    "date": 1677591054431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n         \n             priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n        makeArticle(product) \n-       console.dir({product.price}, {item})\n+       console.dir({product}, {item})\n     }\n  //  displayTotalQuantity(numberTotal)\n   // displayTotalPrice(priceTotal)\n \n"
                },
                {
                    "date": 1677591097108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n+    \n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591107358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    \n+    return \n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591117757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    return \n+    \n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591132926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    \n+    .then \n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591194040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,11 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then \n+    .then((product => {\n+        console.log(product, item);\n+        return product;\n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591206810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,8 +30,9 @@\n     .then((res) => res.json())\n     .then((product => {\n         console.log(product, item);\n         return product;\n+        \n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591218426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n     .then((res) => res.json())\n     .then((product => {\n         console.log(product, item);\n         return product;\n-        \n+    )\n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591244709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n     .then((res) => res.json())\n     .then((product => {\n         console.log(product, item);\n         return product;\n-    )\n+}))\n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591259033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then((product => {\n-        console.log(product, item);\n+        console.log(product;\n         return product;\n }))\n \n    // console.dir({product},{item})\n"
                },
                {
                    "date": 1677591298738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then((product => {\n-        console.log(product;\n+        console.log(pr;\n         return product;\n }))\n \n    // console.dir({product},{item})\n"
                },
                {
                    "date": 1677591304681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then((product => {\n-        console.log(pr;\n+        console.log(price);\n         return product;\n }))\n \n    // console.dir({product},{item})\n"
                },
                {
                    "date": 1677591416041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then((product => {\n+    .then(funct{\n         console.log(price);\n         return product;\n }))\n \n"
                },
                {
                    "date": 1677591421388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(funct{\n+    .then(function ({\n         console.log(price);\n         return product;\n }))\n \n"
                },
                {
                    "date": 1677591432650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,11 +27,10 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(function ({\n-        console.log(price);\n-        return product;\n+    .then(function (res){\n+                return product;\n }))\n \n    // console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677591438642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n-                return product;\n+             return res;\n }))\n \n    // console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677591447145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,10 +28,10 @@\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n-             return res;\n-}))\n+             return res.json;\n+})\n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591477137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(product){\n+async function makeArticle(item){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n"
                },
                {
                    "date": 1677591515741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(item){\n+async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n"
                },
                {
                    "date": 1677591524574,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n              return res.json;\n+             console\n })\n \n    // console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677591530239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n              return res.json;\n-             console\n+             console.log = \n })\n \n    // console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677591535811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n              return res.json;\n-             console.log = \n+             console.log(rest.)\n })\n \n    // console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677591557848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,10 +28,10 @@\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n-             return res.json;\n-             console.log(rest.)\n+           //  return res.json;\n+             console.log(rest.json)\n })\n \n    // console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677591568102,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(function (res){\n            //  return res.json;\n-             console.log(rest.json)\n+            // console.log(rest.json)\n })\n \n    // console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677591577299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n         \n             priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n        makeArticle(product) \n-       console.dir({product}, {item})\n+      // console.dir({product}, {item})\n     }\n  //  displayTotalQuantity(numberTotal)\n   // displayTotalPrice(priceTotal)\n \n"
                },
                {
                    "date": 1677591619734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n     let product =\"\"\n     let item =\"\"\n     for await (let item of panier){\n         let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n-            .then((res) => res.json())\n+          //  .then((res) => res.json())\n         \n             priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n        makeArticle(product) \n"
                },
                {
                    "date": 1677591638080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n     let product =\"\"\n     let item =\"\"\n     for await (let item of panier){\n         let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n-          //  .then((res) => res.json())\n+            .then((res) => res.json())\n         \n             priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n        makeArticle(product) \n"
                },
                {
                    "date": 1677591654264,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(function (res){\n+    //.then(function (res){\n            //  return res.json;\n             // console.log(rest.json)\n })\n \n"
                },
                {
                    "date": 1677591670009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n     .then((res) => res.json())\n     //.then(function (res){\n            //  return res.json;\n             // console.log(rest.json)\n-})\n+//})\n \n    // console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677591679222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(){\n+async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     //.then(function (res){\n"
                },
                {
                    "date": 1677591699071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n            //  return res.json;\n             // console.log(rest.json)\n //})\n \n-   // console.dir({product},{item})\n+   console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n"
                },
                {
                    "date": 1677591719653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n             // console.log(rest.json)\n //})\n \n    console.dir({product},{item})\n-    const price = product.price\n+    const price = price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.colors\n"
                },
                {
                    "date": 1677591729662,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n             // console.log(rest.json)\n //})\n \n    console.dir({product},{item})\n-    const price = price\n+    const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.colors\n"
                },
                {
                    "date": 1677592051059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n     //.then(function (res){\n            //  return res.json;\n             // console.log(rest.json)\n //})\n-\n+res\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n"
                },
                {
                    "date": 1677592060607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n     //.then(function (res){\n            //  return res.json;\n             // console.log(rest.json)\n //})\n-res\n+res.json = product\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n"
                },
                {
                    "date": 1677592376639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(product){\n+async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     //.then(function (res){\n"
                },
                {
                    "date": 1677592383555,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    //.then(function (res){\n+    .then(function (res){\n            //  return res.json;\n             // console.log(rest.json)\n //})\n res.json = product\n"
                },
                {
                    "date": 1677592390274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(function (res){\n+    .then(){\n            //  return res.json;\n             // console.log(rest.json)\n //})\n res.json = product\n"
                },
                {
                    "date": 1677592399232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,11 +27,11 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(){\n+    .then(product){\n            //  return res.json;\n-            // console.log(rest.json)\n+            console.log(rest.json)\n //})\n res.json = product\n    console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677592405125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(product){\n            //  return res.json;\n-            console.log(rest.json)\n+            console.log(productt)\n //})\n res.json = product\n    console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677592418539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,10 +29,10 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(product){\n            //  return res.json;\n-            console.log(productt)\n-//})\n+            console.log(product)\n+})\n res.json = product\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677592435114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(product){\n+    .then(product{\n            //  return res.json;\n             console.log(product)\n })\n res.json = product\n"
                },
                {
                    "date": 1677592469344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n     .then(product{\n            //  return res.json;\n             console.log(product)\n })\n-res.json = product\n+//res.json = product\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n"
                },
                {
                    "date": 1677592481612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,12 +27,9 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(product{\n-           //  return res.json;\n-            console.log(product)\n-})\n+    \n //res.json = product\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677592492280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,12 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    \n+    .then(product{\n+           //  return res.json;\n+            console.log(product)\n+})\n //res.json = product\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677592526857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(product{\n+    .then(product =>{\n            //  return res.json;\n             console.log(product)\n })\n //res.json = product\n"
                },
                {
                    "date": 1677592540239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(){\n+async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(product =>{\n"
                },
                {
                    "date": 1677592549001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then(product =>{\n            //  return res.json;\n-            console.log(product)\n+         //   console.log(product)\n })\n //res.json = product\n    console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677592558656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n            //  return res.json;\n          //   console.log(product)\n })\n //res.json = product\n-   console.dir({product},{item})\n+   //console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n"
                },
                {
                    "date": 1677592571913,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(product =>{\n+    .then(item =>{\n            //  return res.json;\n          //   console.log(product)\n })\n //res.json = product\n"
                },
                {
                    "date": 1677592580511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(item =>{\n+    .then( =>{\n            //  return res.json;\n          //   console.log(product)\n })\n //res.json = product\n"
                },
                {
                    "date": 1677592606489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n     .then((res) => res.json())\n     .then( =>{\n            //  return res.json;\n          //   console.log(product)\n-})\n+\n //res.json = product\n    //console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677592618401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-}   \n+}   })\n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n     article.appendChild(item)\n"
                },
                {
                    "date": 1677592654882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-}   })\n+}   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n     article.appendChild(item)\n"
                },
                {
                    "date": 1677592664589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-}   \n+    })}   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n     article.appendChild(item)\n"
                },
                {
                    "date": 1677592673515,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,10 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-    })}   \n+    })\n+}   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n     article.appendChild(item)\n"
                },
                {
                    "date": 1677592681908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-    })\n+    )})\n }   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677592695927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,10 +120,10 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-    )})\n-}   \n+    )}\n+})   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n     article.appendChild(item)\n"
                },
                {
                    "date": 1677592701744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-    )}\n+    }\n })   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677592727367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,9 +121,9 @@\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n     }\n-})   \n+}  \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n     article.appendChild(item)\n"
                },
                {
                    "date": 1677592740762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-    }\n+     )) }\n }  \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677592751591,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,10 +120,10 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-     )) }\n-}  \n+        })) }\n+ \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n     article.appendChild(item)\n"
                },
                {
                    "date": 1677592781648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-        })) }\n+        })\n  \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677592819039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then( =>{\n            //  return res.json;\n-         //   console.log(product)\n+         console.log(product)\n \n //res.json = product\n    //console.dir({product},{item})\n     const price = product.price\n@@ -120,9 +120,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-        })\n+        })}\n  \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677592840630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then( =>{\n            //  return res.json;\n-         console.log(product)\n+         console.log(product)}\n \n //res.json = product\n    //console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677592849668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     .then( =>{\n            //  return res.json;\n-         console.log(product)}\n+         console.log(product)})\n \n //res.json = product\n    //console.dir({product},{item})\n     const price = product.price\n"
                },
                {
                    "date": 1677592877893,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,259 @@\n+let panier = localStorage.getItem(\"panier\") \n+if(panier) panier = JSON.parse(panier);\n+console.log(\"panier\",panier)\n+loadPage()\n+\n+async function loadPage(){\n+    let priceTotal = 0\n+    let numberTotal = 0\n+    let product =\"\"\n+    let item =\"\"\n+    for await (let item of panier){\n+        let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n+            .then((res) => res.json())\n+        \n+            priceTotal += Number(product.price)* Number(item.quantity);\n+        numberTotal += Number(item.quantity);\n+       makeArticle(product) \n+      // console.dir({product}, {item})\n+    }\n+ //  displayTotalQuantity(numberTotal)\n+  // displayTotalPrice(priceTotal)\n+\n+   //console.dir({product})\n+}\n+//***********  MISE EN PAGE DE L'ARTICLE  *******************\n+\n+async function makeArticle(product){\n+   // let product=\"\"\n+    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n+    .then((res) => res.json())\n+    .then(item =>{\n+           //  return res.json;\n+         //   console.log(product)\n+})\n+//res.json = product\n+   //console.dir({product},{item})\n+    const price = product.price\n+    const Article = document.createElement(\"article\")\n+        Article.classList.add(\"cart__item\")\n+        Article.dataset.id = product._id\n+        Article.dataset.color = product.colors\n+        document.getElementById(\"cart__items\").appendChild(Article)\n+\n+        const divImg = document.createElement(\"div\")\n+              divImg.classList.add(\"cart__item__img\")\n+                const image = document.createElement(\"img\")\n+                image.src = product.imageUrl\n+                image.alt = product.altxt\n+              divImg.appendChild(image)\n+        \n+        const contentDiv = document.createElement('div')\n+              contentDiv.classList.add(\"cart__item__content\")\n+\n+              const descriptionDiv = document.createElement(\"div\")\n+                    descriptionDiv.classList.add(\"cart__item__content__description\")\n+                    const h2= document.createElement(\"h2\")\n+                          h2.textContent = product.name\n+                    const p = document.createElement(\"p\")\n+                          p.textContent = item.color\n+                    const p2 = document.createElement(\"p\")\n+                          p2.textContent = price  * item.quantity + \"€\" //prix en rapport avec la quantité\n+              const settingsDiv = document.createElement(\"div\")\n+                    settingsDiv.classList.add(\"cart__item__content__settings\")\n+                        const settingsQuantityDiv = document.createElement(\"div\")\n+                              settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n+                        const quantityP = document.createElement(\"p\")\n+                              quantityP.textContent =\"Qté : \"\n+ \n+//***********Copie de function  quantityInputToOrder   *******************       \n+\n+                const input = document.createElement(\"input\")\n+                input.type = \"number\"\n+                input.classList.add(\"productQuantity\")\n+                input.name =\"productQuantity\"\n+                input.min =\"1\"\n+                input.max =\"100\"\n+                input.value = item.quantity\n+                //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n+                input.addEventListener(\"change\",   function(event) {\n+                    const article = event.target.closest(\"article.cart__item\")\n+                    const productId = article.dataset.id\n+                    const productColor = article.dataset.color\n+                    const itemToDelete = panier.findIndex(product =>\n+                        productId === product.id && productColor === product.color)\n+                    if(itemToDelete !== -1){\n+                        panier[itemToDelete].quantity = this.value\n+                        savePanier(panier)\n+                        loadPage()\n+                    }\n+                })\n+//***********Fin de Copie de function  quantityInputToOrder   *******************    \n+\n+//***********Copie de function  deleteProduct(item)   *******************  \n+\n+        const contentDelete = document.createElement(\"div\")\n+        contentDelete.classList.add(\"cart__item__content__settings__delete\")\n+            const deleteP = document.createElement(\"p\")\n+            deleteP.classList.add(\"deleteproduct\")\n+            deleteP.textContent =\"Supprimer\"\n+            //deleteP.addEventListener(\"click\", (d) =>deleteProduct(item))\n+            deleteP.addEventListener(\"click\", function(event){\n+                const article = event.target.closest(\"article.cart__item\")\n+                const productId = article.dataset.id\n+                const productColor = article.dataset.color\n+                const itemToDelete = panier.findIndex(product =>\n+                productId === product.id && productColor === product.color)\n+                if(itemToDelete !== -1){\n+                    panier.splice(itemToDelete, 1)\n+                    article.remove()\n+                    savePanier(panier)\n+                    loadPage()\n+                }\n+            })\n+//***********Fin de function  deleteProduct(item)  *******************  \n+                     \n+        appendtoArticle(Article, [divImg, contentDiv])\n+        appendtoArticle(contentDiv, [descriptionDiv, settingsDiv])\n+        appendtoArticle(settingsDiv, [settingsQuantityDiv, contentDelete])\n+        appendtoArticle(descriptionDiv, [h2, p, p2])\n+        appendtoArticle(settingsQuantityDiv, [quantityP, input])\n+        appendtoArticle(contentDelete, [deleteP])\n+                        \n+        return { number : item.quantity, price: product.price}\n+}   \n+//***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n+function appendtoArticle(article, array) {\n+    array.forEach(item => {\n+    article.appendChild(item)\n+})\n+}\n+function displayTotalPrice(price){\n+    const totalPrice = document.querySelector(\"#totalPrice\")\n+    totalPrice.textContent = product.price\n+ }\n+ function displayTotalQuantity(quantity){\n+    const totalQuantity = document.querySelector(\"#totalQuantity\")\n+          totalQuantity.textContent = item.quantity\n+ }\n+ function QuantityInputToOrder(){\n+    const input = document.createElement(\"input\")\n+        input.type = \"number\"\n+        input.classList.add(\"itemQuantity\")\n+        input.name =\"itemQuantity\"\n+        input.min =\"1\"\n+        input.max =\"100\"\n+        input.value = item.quantity\n+        //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n+            if (input.value != item.quantity){\n+                const newQuantity = document.querySelector(\".itemQuantity\").value;\n+            }else{\n+                input.value = item.quantity\n+            }\n+    console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n+\n+    }\n+// function updatePriceQuantity(id, newValue, item){\n+    //const itemToUpdate = panier.find((item) => item.id === id)\n+    //itemToUpdate.quantity = Number(newValue)\n+    //item.quantity = itemToUpdate.quantity\n+    //displayTotalQuantity()\n+    //displayTotalPrice()\n+    //deleteDataFromCache(item)\n+ //}\n+\n+// function updatePriceQuantity(id, newValue, item){\n+   // \n+    //item.quantity = document.querySelector(\".itemQuantity\")\n+   // p2.textContent = product.price * input.value + \"€\"\n+   //const selectElement = document.querySelector(\".itemQuantity\");\n+\n+  // selectElement.addEventListener('change', (event) => {\n+     //const result = document.querySelector(\".itemQuantity\").value;\n+     //result.textContent = `${event.target.value}`;\n+  // });\n+\n+function savePanier(panier){\n+    localStorage.setItem(\"panier\", JSON.stringify(panier))\n+}\n+\n+const orderButton = document.querySelector(\"#order\")\n+      orderButton.addEventListener(\"click\", (e) => submitForm(e))\n+\n+function submitForm(e){\n+e.preventDefault() //ne pas rafraîchir\n+if (panier.lenght === 0) alert (\"Sélectionnez votre canapé\")\n+//return\n+\n+//if (formIsInvalid()) return\n+if (emailIsInvalid()) return\n+\n+const body = makeRequestBody()\n+fetch(\"http://localhost:3000/api/products/order\",{\n+method : \"POST\",\n+body: JSON.stringify(body),\n+Headers:{\n+    \"Content-type\":\"appplication/json\"\n+}\n+})\n+.then((res) => res.json())\n+.then((data) => {\n+const orderId = data.orderId\n+window.location.href = \"confirmation.html\" + \"?orderId=\" + orderId\n+})\n+.catch((err) => console.error(err))\n+}\n+function formIsInvalid(){\n+   // const form = document.querySelector(\"cart__order__form\")\n+   const inputs = form.querySelectorAll(\"input\")\n+    inputs.forEach((input) =>{\n+        if (input.value === \"\"){\n+            alert(\"Vous devez compléter ce champ\")\n+            return true\n+        }\n+        return false\n+    })\n+}\n+function emailIsInvalid(){\n+    const email = document.querySelector(\"#email\").value\n+    const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n+    if (regex.test(email) === false) {\n+        alert (\"Votre adresse mail n'est pas valide\")\n+        return true\n+    }\n+    return false\n+}\n+\n+function makeRequestBody(){\n+    const form = document.querySelector(\"cart__order__form\")\n+    inputFirstame = document.getElementById(\"firstName\").value;\n+    inputLastname = document.getElementById(\"lastName\").value;\n+    inputAddress = document.getElementById(\"address\").value;\n+    inputCity = document.getElementById(\"city\").value;\n+    inputEmail = document.getElementById(\"email\").value;\n+\n+    const body = {\n+    contact: {\n+        firstName: firstName,\n+        lastName: lastName,\n+        address: address,\n+        city: city,\n+        email: email\n+      }\n+      //products: getIdsFromCache()\n+    }\n+    return body\n+}\n+//pas besoin de faire split si seulement key et pas color\n+function getIdsFromCache(){\n+    const numberOfProducts = localStorage-length\n+    const ids = []\n+    for (let i = 0; i < numberOfProducts; i++){\n+    const key = localStorage.key(i)\n+    const id = key-split(\"-\")[0]\n+    //const id = key-split(\"-\")[0]\n+\n+    ids.push(id)\n+    }\n+    return ids\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1677592884553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(item =>{\n+    .then( =>{\n            //  return res.json;\n          //   console.log(product)\n })\n //res.json = product\n@@ -255,265 +255,5 @@\n \n     ids.push(id)\n     }\n     return ids\n-}\n-let panier = localStorage.getItem(\"panier\") \n-if(panier) panier = JSON.parse(panier);\n-console.log(\"panier\",panier)\n-loadPage()\n-\n-async function loadPage(){\n-    let priceTotal = 0\n-    let numberTotal = 0\n-    let product =\"\"\n-    let item =\"\"\n-    for await (let item of panier){\n-        let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n-            .then((res) => res.json())\n-        \n-            priceTotal += Number(product.price)* Number(item.quantity);\n-        numberTotal += Number(item.quantity);\n-       makeArticle(product) \n-      // console.dir({product}, {item})\n-    }\n- //  displayTotalQuantity(numberTotal)\n-  // displayTotalPrice(priceTotal)\n-\n-   //console.dir({product})\n-}\n-//***********  MISE EN PAGE DE L'ARTICLE  *******************\n-\n-async function makeArticle(product){\n-   // let product=\"\"\n-    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n-    .then((res) => res.json())\n-    .then( =>{\n-           //  return res.json;\n-         console.log(product)})\n-\n-//res.json = product\n-   //console.dir({product},{item})\n-    const price = product.price\n-    const Article = document.createElement(\"article\")\n-        Article.classList.add(\"cart__item\")\n-        Article.dataset.id = product._id\n-        Article.dataset.color = product.colors\n-        document.getElementById(\"cart__items\").appendChild(Article)\n-\n-        const divImg = document.createElement(\"div\")\n-              divImg.classList.add(\"cart__item__img\")\n-                const image = document.createElement(\"img\")\n-                image.src = product.imageUrl\n-                image.alt = product.altxt\n-              divImg.appendChild(image)\n-        \n-        const contentDiv = document.createElement('div')\n-              contentDiv.classList.add(\"cart__item__content\")\n-\n-              const descriptionDiv = document.createElement(\"div\")\n-                    descriptionDiv.classList.add(\"cart__item__content__description\")\n-                    const h2= document.createElement(\"h2\")\n-                          h2.textContent = product.name\n-                    const p = document.createElement(\"p\")\n-                          p.textContent = item.color\n-                    const p2 = document.createElement(\"p\")\n-                          p2.textContent = price  * item.quantity + \"€\" //prix en rapport avec la quantité\n-              const settingsDiv = document.createElement(\"div\")\n-                    settingsDiv.classList.add(\"cart__item__content__settings\")\n-                        const settingsQuantityDiv = document.createElement(\"div\")\n-                              settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n-                        const quantityP = document.createElement(\"p\")\n-                              quantityP.textContent =\"Qté : \"\n- \n-//***********Copie de function  quantityInputToOrder   *******************       \n-\n-                const input = document.createElement(\"input\")\n-                input.type = \"number\"\n-                input.classList.add(\"productQuantity\")\n-                input.name =\"productQuantity\"\n-                input.min =\"1\"\n-                input.max =\"100\"\n-                input.value = item.quantity\n-                //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n-                input.addEventListener(\"change\",   function(event) {\n-                    const article = event.target.closest(\"article.cart__item\")\n-                    const productId = article.dataset.id\n-                    const productColor = article.dataset.color\n-                    const itemToDelete = panier.findIndex(product =>\n-                        productId === product.id && productColor === product.color)\n-                    if(itemToDelete !== -1){\n-                        panier[itemToDelete].quantity = this.value\n-                        savePanier(panier)\n-                        loadPage()\n-                    }\n-                })\n-//***********Fin de Copie de function  quantityInputToOrder   *******************    \n-\n-//***********Copie de function  deleteProduct(item)   *******************  \n-\n-        const contentDelete = document.createElement(\"div\")\n-        contentDelete.classList.add(\"cart__item__content__settings__delete\")\n-            const deleteP = document.createElement(\"p\")\n-            deleteP.classList.add(\"deleteproduct\")\n-            deleteP.textContent =\"Supprimer\"\n-            //deleteP.addEventListener(\"click\", (d) =>deleteProduct(item))\n-            deleteP.addEventListener(\"click\", function(event){\n-                const article = event.target.closest(\"article.cart__item\")\n-                const productId = article.dataset.id\n-                const productColor = article.dataset.color\n-                const itemToDelete = panier.findIndex(product =>\n-                productId === product.id && productColor === product.color)\n-                if(itemToDelete !== -1){\n-                    panier.splice(itemToDelete, 1)\n-                    article.remove()\n-                    savePanier(panier)\n-                    loadPage()\n-                }\n-            })\n-//***********Fin de function  deleteProduct(item)  *******************  \n-                     \n-        appendtoArticle(Article, [divImg, contentDiv])\n-        appendtoArticle(contentDiv, [descriptionDiv, settingsDiv])\n-        appendtoArticle(settingsDiv, [settingsQuantityDiv, contentDelete])\n-        appendtoArticle(descriptionDiv, [h2, p, p2])\n-        appendtoArticle(settingsQuantityDiv, [quantityP, input])\n-        appendtoArticle(contentDelete, [deleteP])\n-                        \n-        return { number : item.quantity, price: product.price}\n-        })}\n- \n-//***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n-function appendtoArticle(article, array) {\n-    array.forEach(item => {\n-    article.appendChild(item)\n-})\n-}\n-function displayTotalPrice(price){\n-    const totalPrice = document.querySelector(\"#totalPrice\")\n-    totalPrice.textContent = product.price\n- }\n- function displayTotalQuantity(quantity){\n-    const totalQuantity = document.querySelector(\"#totalQuantity\")\n-          totalQuantity.textContent = item.quantity\n- }\n- function QuantityInputToOrder(){\n-    const input = document.createElement(\"input\")\n-        input.type = \"number\"\n-        input.classList.add(\"itemQuantity\")\n-        input.name =\"itemQuantity\"\n-        input.min =\"1\"\n-        input.max =\"100\"\n-        input.value = item.quantity\n-        //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n-            if (input.value != item.quantity){\n-                const newQuantity = document.querySelector(\".itemQuantity\").value;\n-            }else{\n-                input.value = item.quantity\n-            }\n-    console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n-\n-    }\n-// function updatePriceQuantity(id, newValue, item){\n-    //const itemToUpdate = panier.find((item) => item.id === id)\n-    //itemToUpdate.quantity = Number(newValue)\n-    //item.quantity = itemToUpdate.quantity\n-    //displayTotalQuantity()\n-    //displayTotalPrice()\n-    //deleteDataFromCache(item)\n- //}\n-\n-// function updatePriceQuantity(id, newValue, item){\n-   // \n-    //item.quantity = document.querySelector(\".itemQuantity\")\n-   // p2.textContent = product.price * input.value + \"€\"\n-   //const selectElement = document.querySelector(\".itemQuantity\");\n-\n-  // selectElement.addEventListener('change', (event) => {\n-     //const result = document.querySelector(\".itemQuantity\").value;\n-     //result.textContent = `${event.target.value}`;\n-  // });\n-\n-function savePanier(panier){\n-    localStorage.setItem(\"panier\", JSON.stringify(panier))\n-}\n-\n-const orderButton = document.querySelector(\"#order\")\n-      orderButton.addEventListener(\"click\", (e) => submitForm(e))\n-\n-function submitForm(e){\n-e.preventDefault() //ne pas rafraîchir\n-if (panier.lenght === 0) alert (\"Sélectionnez votre canapé\")\n-//return\n-\n-//if (formIsInvalid()) return\n-if (emailIsInvalid()) return\n-\n-const body = makeRequestBody()\n-fetch(\"http://localhost:3000/api/products/order\",{\n-method : \"POST\",\n-body: JSON.stringify(body),\n-Headers:{\n-    \"Content-type\":\"appplication/json\"\n-}\n-})\n-.then((res) => res.json())\n-.then((data) => {\n-const orderId = data.orderId\n-window.location.href = \"confirmation.html\" + \"?orderId=\" + orderId\n-})\n-.catch((err) => console.error(err))\n-}\n-function formIsInvalid(){\n-   // const form = document.querySelector(\"cart__order__form\")\n-   const inputs = form.querySelectorAll(\"input\")\n-    inputs.forEach((input) =>{\n-        if (input.value === \"\"){\n-            alert(\"Vous devez compléter ce champ\")\n-            return true\n-        }\n-        return false\n-    })\n-}\n-function emailIsInvalid(){\n-    const email = document.querySelector(\"#email\").value\n-    const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n-    if (regex.test(email) === false) {\n-        alert (\"Votre adresse mail n'est pas valide\")\n-        return true\n-    }\n-    return false\n-}\n-\n-function makeRequestBody(){\n-    const form = document.querySelector(\"cart__order__form\")\n-    inputFirstame = document.getElementById(\"firstName\").value;\n-    inputLastname = document.getElementById(\"lastName\").value;\n-    inputAddress = document.getElementById(\"address\").value;\n-    inputCity = document.getElementById(\"city\").value;\n-    inputEmail = document.getElementById(\"email\").value;\n-\n-    const body = {\n-    contact: {\n-        firstName: firstName,\n-        lastName: lastName,\n-        address: address,\n-        city: city,\n-        email: email\n-      }\n-      //products: getIdsFromCache()\n-    }\n-    return body\n-}\n-//pas besoin de faire split si seulement key et pas color\n-function getIdsFromCache(){\n-    const numberOfProducts = localStorage-length\n-    const ids = []\n-    for (let i = 0; i < numberOfProducts; i++){\n-    const key = localStorage.key(i)\n-    const id = key-split(\"-\")[0]\n-    //const id = key-split(\"-\")[0]\n-\n-    ids.push(id)\n-    }\n-    return ids\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1677592890435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,14 +27,14 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then( =>{\n+    .then(product =>{\n            //  return res.json;\n          //   console.log(product)\n })\n //res.json = product\n-   //console.dir({product},{item})\n+   console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n"
                },
                {
                    "date": 1677592922955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,12 +27,9 @@\n async function makeArticle(product){\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n-    .then(product =>{\n-           //  return res.json;\n-         //   console.log(product)\n-})\n+    \n //res.json = product\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677592954186,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,8 @@\n    // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n-//res.json = product\n    console.dir({product},{item})\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n"
                },
                {
                    "date": 1677592976184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,8 @@\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n async function makeArticle(product){\n-   // let product=\"\"\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{item})\n@@ -53,9 +52,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = price  * item.quantity + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = price   \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677592983544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = price   \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = product.price   \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677592990622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = product.price   \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = product.price  + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677593014443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = product.price  + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = product.price   + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677593022409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = product.price   + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = product.price * item  + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677593029220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = product.price * item  + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = product.price * item.quantity  + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677593037809,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n                           p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n-                          p2.textContent = product.price * item.quantity  + \"€\" //prix en rapport avec la quantité\n+                          p2.textContent = product.price + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n                         const settingsQuantityDiv = document.createElement(\"div\")\n                               settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n"
                },
                {
                    "date": 1677593080591,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n                     descriptionDiv.classList.add(\"cart__item__content__description\")\n                     const h2= document.createElement(\"h2\")\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n-                          p.textContent = item.color\n+                          p.textContent = panier.color\n                     const p2 = document.createElement(\"p\")\n                           p2.textContent = product.price + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n"
                },
                {
                    "date": 1677593104997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n                     descriptionDiv.classList.add(\"cart__item__content__description\")\n                     const h2= document.createElement(\"h2\")\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n-                          p.textContent = panier.color\n+                          p.textContent = ite.color\n                     const p2 = document.createElement(\"p\")\n                           p2.textContent = product.price + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n"
                },
                {
                    "date": 1677593121986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n     const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n-        Article.dataset.color = product.colors\n+        Article.dataset.color = product.color\n         document.getElementById(\"cart__items\").appendChild(Article)\n \n         const divImg = document.createElement(\"div\")\n               divImg.classList.add(\"cart__item__img\")\n@@ -50,9 +50,9 @@\n                     descriptionDiv.classList.add(\"cart__item__content__description\")\n                     const h2= document.createElement(\"h2\")\n                           h2.textContent = product.name\n                     const p = document.createElement(\"p\")\n-                          p.textContent = ite.color\n+                          p.textContent = item.color\n                     const p2 = document.createElement(\"p\")\n                           p2.textContent = product.price + \"€\" //prix en rapport avec la quantité\n               const settingsDiv = document.createElement(\"div\")\n                     settingsDiv.classList.add(\"cart__item__content__settings\")\n"
                },
                {
                    "date": 1677593142527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{item})\n-    const price = product.price\n+   // const price = product.price\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.color\n"
                },
                {
                    "date": 1677593224238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,10 +27,9 @@\n async function makeArticle(product){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n-   console.dir({product},{item})\n-   // const price = product.price\n+   console.dir({product},{panier})\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.color\n"
                },
                {
                    "date": 1677593326931,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n if(panier) panier = JSON.parse(panier);\n console.log(\"panier\",panier)\n loadPage()\n \n-async function loadPage(){\n+async function loadPage(product){\n     let priceTotal = 0\n     let numberTotal = 0\n     let product =\"\"\n     let item =\"\"\n"
                },
                {
                    "date": 1677593332146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n let panier = localStorage.getItem(\"panier\") \n if(panier) panier = JSON.parse(panier);\n console.log(\"panier\",panier)\n-loadPage()\n+loadPage(product)\n \n async function loadPage(product){\n     let priceTotal = 0\n     let numberTotal = 0\n"
                },
                {
                    "date": 1677593366860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n \n async function loadPage(product){\n     let priceTotal = 0\n     let numberTotal = 0\n-    let product =\"\"\n+    //let product =\"\"\n     let item =\"\"\n     for await (let item of panier){\n         let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n             .then((res) => res.json())\n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(product){\n+async function makeArticle(item){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{panier})\n"
                },
                {
                    "date": 1677593388707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n async function makeArticle(item){\n-    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n+    await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{panier})\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677593406686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n async function makeArticle(item){\n-    await fetch(\"http://localhost:3000/api/products/\"+product._id)\n+    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{panier})\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677593413552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,13 @@\n let panier = localStorage.getItem(\"panier\") \n if(panier) panier = JSON.parse(panier);\n console.log(\"panier\",panier)\n-loadPage(product)\n+loadPage()\n \n-async function loadPage(product){\n+async function loadPage(){\n     let priceTotal = 0\n     let numberTotal = 0\n-    //let product =\"\"\n+    let product =\"\"\n     let item =\"\"\n     for await (let item of panier){\n         let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n             .then((res) => res.json())\n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(item){\n+async function makeArticle(product){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{panier})\n"
                },
                {
                    "date": 1677593426237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(product){\n+async function makeArticle(product ){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{panier})\n"
                },
                {
                    "date": 1677593433256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(product ){\n+async function makeArticle(produc){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{panier})\n"
                },
                {
                    "date": 1677593459386,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(produc){\n+async function makeArticle(product){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{panier})\n"
                },
                {
                    "date": 1677593520464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n async function makeArticle(product){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n-   console.dir({product},{panier})\n+   console.dir({product},{item})\n     const Article = document.createElement(\"article\")\n         Article.classList.add(\"cart__item\")\n         Article.dataset.id = product._id\n         Article.dataset.color = product.color\n"
                },
                {
                    "date": 1677593549688,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n async function makeArticle(product){\n-    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n+    let item = await fetch(\"http://localhost:3000/api/products/\"+paid)\n     .then((res) => res.json())\n     \n    console.dir({product},{item})\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677593567055,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n async function makeArticle(product){\n-    let item = await fetch(\"http://localhost:3000/api/products/\"+paid)\n+    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{item})\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677595994357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n     for await (let item of panier){\n         let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n             .then((res) => res.json())\n         \n-            priceTotal += Number(product.price)* Number(item.quantity);\n+        priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n        makeArticle(product) \n       // console.dir({product}, {item})\n     }\n"
                },
                {
                    "date": 1677598269417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(product){\n+async function makeArticle(product, ite){\n     let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{item})\n"
                },
                {
                    "date": 1677598286211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,10 +23,10 @@\n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n \n-async function makeArticle(product, ite){\n-    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n+async function makeArticle(product, item){\n+    await fetch(\"http://localhost:3000/api/products/\"+product._id)\n     .then((res) => res.json())\n     \n    console.dir({product},{item})\n     const Article = document.createElement(\"article\")\n"
                },
                {
                    "date": 1677598302570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n             .then((res) => res.json())\n         \n         priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n-       makeArticle(product) \n+       makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n  //  displayTotalQuantity(numberTotal)\n   // displayTotalPrice(priceTotal)\n"
                },
                {
                    "date": 1677598586427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n                 const productColor = article.dataset.color\n                 const itemToDelete = panier.findIndex(product =>\n                 productId === product.id && productColor === product.color)\n                 if(itemToDelete !== -1){\n-                    panier.splice(itemToDelete, 1)\n+                   // panier.splice(itemToDelete, 1)\n                     article.remove()\n                     savePanier(panier)\n                     loadPage()\n                 }\n"
                },
                {
                    "date": 1677598751792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,8 +99,9 @@\n                 const itemToDelete = panier.findIndex(product =>\n                 productId === product.id && productColor === product.color)\n                 if(itemToDelete !== -1){\n                    // panier.splice(itemToDelete, 1)\n+                   panier[itemToDelete].quantity = this.value\n                     article.remove()\n                     savePanier(panier)\n                     loadPage()\n                 }\n@@ -146,9 +147,9 @@\n             }\n     console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n \n     }\n-// function updatePriceQuantity(id, newValue, item){\n+ function updatePriceQuantity(id, newValue, item){\n     //const itemToUpdate = panier.find((item) => item.id === id)\n     //itemToUpdate.quantity = Number(newValue)\n     //item.quantity = itemToUpdate.quantity\n     //displayTotalQuantity()\n"
                },
                {
                    "date": 1677598757240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,11 +148,11 @@\n     console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n \n     }\n  function updatePriceQuantity(id, newValue, item){\n-    //const itemToUpdate = panier.find((item) => item.id === id)\n-    //itemToUpdate.quantity = Number(newValue)\n-    //item.quantity = itemToUpdate.quantity\n+    const itemToUpdate = panier.find((item) => item.id === id)\n+    itemToUpdate.quantity = Number(newValue)\n+    item.quantity = itemToUpdate.quantity\n     //displayTotalQuantity()\n     //displayTotalPrice()\n     //deleteDataFromCache(item)\n  //}\n"
                },
                {
                    "date": 1677598762484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,11 +151,11 @@\n  function updatePriceQuantity(id, newValue, item){\n     const itemToUpdate = panier.find((item) => item.id === id)\n     itemToUpdate.quantity = Number(newValue)\n     item.quantity = itemToUpdate.quantity\n-    //displayTotalQuantity()\n-    //displayTotalPrice()\n-    //deleteDataFromCache(item)\n+    displayTotalQuantity()\n+    displayTotalPrice()\n+    deleteDataFromCache(item)\n  //}\n \n // function updatePriceQuantity(id, newValue, item){\n    // \n"
                },
                {
                    "date": 1677598784600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,16 +147,16 @@\n             }\n     console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n \n     }\n- function updatePriceQuantity(id, newValue, item){\n-    const itemToUpdate = panier.find((item) => item.id === id)\n-    itemToUpdate.quantity = Number(newValue)\n-    item.quantity = itemToUpdate.quantity\n-    displayTotalQuantity()\n-    displayTotalPrice()\n-    deleteDataFromCache(item)\n- //}\n+//  function updatePriceQuantity(id, newValue, item){\n+//     const itemToUpdate = panier.find((item) => item.id === id)\n+//     itemToUpdate.quantity = Number(newValue)\n+//     item.quantity = itemToUpdate.quantity\n+//     displayTotalQuantity()\n+//     displayTotalPrice()\n+//     deleteDataFromCache(item)\n+//  }\n \n // function updatePriceQuantity(id, newValue, item){\n    // \n     //item.quantity = document.querySelector(\".itemQuantity\")\n"
                },
                {
                    "date": 1677598798584,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,18 +156,18 @@\n //     displayTotalPrice()\n //     deleteDataFromCache(item)\n //  }\n \n-// function updatePriceQuantity(id, newValue, item){\n-   // \n-    //item.quantity = document.querySelector(\".itemQuantity\")\n-   // p2.textContent = product.price * input.value + \"€\"\n-   //const selectElement = document.querySelector(\".itemQuantity\");\n+// // function updatePriceQuantity(id, newValue, item){\n+//    // \n+//     //item.quantity = document.querySelector(\".itemQuantity\")\n+//    // p2.textContent = product.price * input.value + \"€\"\n+//    //const selectElement = document.querySelector(\".itemQuantity\");\n \n-  // selectElement.addEventListener('change', (event) => {\n-     //const result = document.querySelector(\".itemQuantity\").value;\n-     //result.textContent = `${event.target.value}`;\n-  // });\n+//   // selectElement.addEventListener('change', (event) => {\n+//      //const result = document.querySelector(\".itemQuantity\").value;\n+//      //result.textContent = `${event.target.value}`;\n+//   // });\n \n function savePanier(panier){\n     localStorage.setItem(\"panier\", JSON.stringify(panier))\n }\n"
                },
                {
                    "date": 1677598808977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,18 +156,18 @@\n //     displayTotalPrice()\n //     deleteDataFromCache(item)\n //  }\n \n-// // function updatePriceQuantity(id, newValue, item){\n-//    // \n-//     //item.quantity = document.querySelector(\".itemQuantity\")\n-//    // p2.textContent = product.price * input.value + \"€\"\n-//    //const selectElement = document.querySelector(\".itemQuantity\");\n+// // // function updatePriceQuantity(id, newValue, item){\n+// //    // \n+// //     //item.quantity = document.querySelector(\".itemQuantity\")\n+// //    // p2.textContent = product.price * input.value + \"€\"\n+// //    //const selectElement = document.querySelector(\".itemQuantity\");\n \n-//   // selectElement.addEventListener('change', (event) => {\n-//      //const result = document.querySelector(\".itemQuantity\").value;\n-//      //result.textContent = `${event.target.value}`;\n-//   // });\n+// //   // selectElement.addEventListener('change', (event) => {\n+// //      //const result = document.querySelector(\".itemQuantity\").value;\n+// //      //result.textContent = `${event.target.value}`;\n+// //   // });\n \n function savePanier(panier){\n     localStorage.setItem(\"panier\", JSON.stringify(panier))\n }\n"
                },
                {
                    "date": 1677598814728,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,18 +156,18 @@\n //     displayTotalPrice()\n //     deleteDataFromCache(item)\n //  }\n \n-// // // function updatePriceQuantity(id, newValue, item){\n-// //    // \n-// //     //item.quantity = document.querySelector(\".itemQuantity\")\n-// //    // p2.textContent = product.price * input.value + \"€\"\n-// //    //const selectElement = document.querySelector(\".itemQuantity\");\n+// function updatePriceQuantity(id, newValue, item){\n+   // \n+    //item.quantity = document.querySelector(\".itemQuantity\")\n+   // p2.textContent = product.price * input.value + \"€\"\n+   //const selectElement = document.querySelector(\".itemQuantity\");\n \n-// //   // selectElement.addEventListener('change', (event) => {\n-// //      //const result = document.querySelector(\".itemQuantity\").value;\n-// //      //result.textContent = `${event.target.value}`;\n-// //   // });\n+  // selectElement.addEventListener('change', (event) => {\n+     //const result = document.querySelector(\".itemQuantity\").value;\n+     //result.textContent = `${event.target.value}`;\n+  // });\n \n function savePanier(panier){\n     localStorage.setItem(\"panier\", JSON.stringify(panier))\n }\n"
                },
                {
                    "date": 1677598830306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,18 +156,18 @@\n //     displayTotalPrice()\n //     deleteDataFromCache(item)\n //  }\n \n-// function updatePriceQuantity(id, newValue, item){\n-   // \n-    //item.quantity = document.querySelector(\".itemQuantity\")\n-   // p2.textContent = product.price * input.value + \"€\"\n-   //const selectElement = document.querySelector(\".itemQuantity\");\n+function updatePriceQuantity(id, newValue, item){\n+   \n+    item.quantity = document.querySelector(\".itemQuantity\")\n+   p2.textContent = product.price * input.value + \"€\"\n+   const selectElement = document.querySelector(\".itemQuantity\");\n \n-  // selectElement.addEventListener('change', (event) => {\n-     //const result = document.querySelector(\".itemQuantity\").value;\n-     //result.textContent = `${event.target.value}`;\n-  // });\n+  selectElement.addEventListener('change', (event) => {\n+     const result = document.querySelector(\".itemQuantity\").value;\n+     result.textContent = `${event.target.value}`;\n+  })};\n \n function savePanier(panier){\n     localStorage.setItem(\"panier\", JSON.stringify(panier))\n }\n"
                },
                {
                    "date": 1677598998658,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n         numberTotal += Number(item.quantity);\n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n- //  displayTotalQuantity(numberTotal)\n+  displayTotalQuantity(numberTotal)\n   // displayTotalPrice(priceTotal)\n \n    //console.dir({product})\n }\n"
                },
                {
                    "date": 1677599050686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n   displayTotalQuantity(numberTotal)\n-  // displayTotalPrice(priceTotal)\n+  displayTotalPrice(priceTotal)\n \n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n@@ -60,9 +60,10 @@\n                         const quantityP = document.createElement(\"p\")\n                               quantityP.textContent =\"Qté : \"\n  \n //***********Copie de function  quantityInputToOrder   *******************       \n-\n+displayTotalQuantity(numberTotal)\n+  displayTotalPrice(priceTotal)\n                 const input = document.createElement(\"input\")\n                 input.type = \"number\"\n                 input.classList.add(\"productQuantity\")\n                 input.name =\"productQuantity\"\n"
                },
                {
                    "date": 1677599058681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,10 +60,9 @@\n                         const quantityP = document.createElement(\"p\")\n                               quantityP.textContent =\"Qté : \"\n  \n //***********Copie de function  quantityInputToOrder   *******************       \n-displayTotalQuantity(numberTotal)\n-  displayTotalPrice(priceTotal)\n+\n                 const input = document.createElement(\"input\")\n                 input.type = \"number\"\n                 input.classList.add(\"productQuantity\")\n                 input.name =\"productQuantity\"\n"
                },
                {
                    "date": 1677599074460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,8 +115,9 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n+        \n }   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677599132465,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,11 +113,13 @@\n         appendtoArticle(settingsDiv, [settingsQuantityDiv, contentDelete])\n         appendtoArticle(descriptionDiv, [h2, p, p2])\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n-                        \n+         \n+        \n         return { number : item.quantity, price: product.price}\n-        \n+        displayTotalQuantity(numberTotal)\n+  displayTotalPrice(priceTotal)\n }   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677599168080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,10 +16,9 @@\n         numberTotal += Number(item.quantity);\n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n-  displayTotalQuantity(numberTotal)\n-  displayTotalPrice(priceTotal)\n+  \n \n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n@@ -113,13 +112,11 @@\n         appendtoArticle(settingsDiv, [settingsQuantityDiv, contentDelete])\n         appendtoArticle(descriptionDiv, [h2, p, p2])\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n-         \n+                        \n+        return { number : item.quantity, price: product.price}\n         \n-        return { number : item.quantity, price: product.price}\n-        displayTotalQuantity(numberTotal)\n-  displayTotalPrice(priceTotal)\n }   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677599182777,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,8 +13,10 @@\n             .then((res) => res.json())\n         \n         priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n+        displayTotalQuantity(numberTotal)\n+        displayTotalPrice(priceTotal)\n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n   \n"
                },
                {
                    "date": 1677599190595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,12 +11,9 @@\n     for await (let item of panier){\n         let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n             .then((res) => res.json())\n         \n-        priceTotal += Number(product.price)* Number(item.quantity);\n-        numberTotal += Number(item.quantity);\n-        displayTotalQuantity(numberTotal)\n-        displayTotalPrice(priceTotal)\n+        \n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n   \n"
                },
                {
                    "date": 1677599261153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,12 @@\n     for await (let item of panier){\n         let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n             .then((res) => res.json())\n         \n-        \n+        priceTotal += Number(product.price)* Number(item.quantity);\n+        numberTotal += Number(item.quantity);\n+        displayTotalQuantity(numberTotal)\n+        displayTotalPrice(priceTotal)\n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n   \n"
                },
                {
                    "date": 1677599267041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,14 +13,13 @@\n             .then((res) => res.json())\n         \n         priceTotal += Number(product.price)* Number(item.quantity);\n         numberTotal += Number(item.quantity);\n-        displayTotalQuantity(numberTotal)\n-        displayTotalPrice(priceTotal)\n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n-  \n+  displayTotalQuantity(numberTotal)\n+  displayTotalPrice(priceTotal)\n \n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n"
                },
                {
                    "date": 1677599277682,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,8 @@\n         appendtoArticle(settingsQuantityDiv, [quantityP, input])\n         appendtoArticle(contentDelete, [deleteP])\n                         \n         return { number : item.quantity, price: product.price}\n-        \n }   \n //***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\n function appendtoArticle(article, array) {\n     array.forEach(item => {\n"
                },
                {
                    "date": 1677599284304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,10 +16,10 @@\n         numberTotal += Number(item.quantity);\n        makeArticle(product, item) \n       // console.dir({product}, {item})\n     }\n-  displayTotalQuantity(numberTotal)\n-  displayTotalPrice(priceTotal)\n+ //  displayTotalQuantity(numberTotal)\n+  // displayTotalPrice(priceTotal)\n \n    //console.dir({product})\n }\n //***********  MISE EN PAGE DE L'ARTICLE  *******************\n"
                }
            ],
            "date": 1677590648556,
            "name": "Commit-0",
            "content": "\nSkip to content\nPull requests\nIssues\nCodespaces\nMarketplace\nExplore\n@lysianebo\nlysianebo /\nKANAP\nPublic\n\nCannot fork because you own this repository and are not a member of any organizations.\n\nCode\nIssues\nPull requests\nActions\nProjects\nWiki\nSecurity\nInsights\n\n    Settings\n\nBeta Try the new code view\nKANAP/front/js/cart.js /\n@lysianebo\nlysianebo cart\nLatest commit 3568c55 Feb 24, 2023\nHistory\n1 contributor\n255 lines (229 sloc) 9.51 KB\nlet panier = localStorage.getItem(\"panier\") \nif(panier) panier = JSON.parse(panier);\nconsole.log(\"panier\",panier)\nloadPage()\n\nasync function loadPage(){\n    let priceTotal = 0\n    let numberTotal = 0\n    let product =\"\"\n    let item =\"\"\n    for await (let item of panier){\n        let product = await fetch(\"http://localhost:3000/api/products/\"+item.id)\n            .then((res) => res.json())\n        \n            priceTotal += Number(product.price)* Number(item.quantity);\n        numberTotal += Number(item.quantity);\n       makeArticle(product) \n       console.dir({product}, {item})\n    }\n //  displayTotalQuantity(numberTotal)\n  // displayTotalPrice(priceTotal)\n\n   //console.dir({product})\n}\n//***********  MISE EN PAGE DE L'ARTICLE  *******************\n\nasync function makeArticle(product){\n   // let product=\"\"\n    let item = await fetch(\"http://localhost:3000/api/products/\"+product._id)\n    .then((res) => res.json())\n\n   // console.dir({product},{item})\n    \n    const Article = document.createElement(\"article\")\n        Article.classList.add(\"cart__item\")\n        Article.dataset.id = product._id\n        Article.dataset.color = product.colors\n        document.getElementById(\"cart__items\").appendChild(Article)\n\n        const divImg = document.createElement(\"div\")\n              divImg.classList.add(\"cart__item__img\")\n                const image = document.createElement(\"img\")\n                image.src = product.imageUrl\n                image.alt = product.altxt\n              divImg.appendChild(image)\n        \n        const contentDiv = document.createElement('div')\n              contentDiv.classList.add(\"cart__item__content\")\n\n              const descriptionDiv = document.createElement(\"div\")\n                    descriptionDiv.classList.add(\"cart__item__content__description\")\n                    const h2= document.createElement(\"h2\")\n                          h2.textContent = product.name\n                    const p = document.createElement(\"p\")\n                          p.textContent = item.color\n                    const p2 = document.createElement(\"p\")\n                          p2.textContent = product.price  * item.quantity + \"€\" //prix en rapport avec la quantité\n              const settingsDiv = document.createElement(\"div\")\n                    settingsDiv.classList.add(\"cart__item__content__settings\")\n                        const settingsQuantityDiv = document.createElement(\"div\")\n                              settingsQuantityDiv.classList.add(\"cart__item__content__settings__quantity\")\n                        const quantityP = document.createElement(\"p\")\n                              quantityP.textContent =\"Qté : \"\n \n//***********Copie de function  quantityInputToOrder   *******************       \n\n                const input = document.createElement(\"input\")\n                input.type = \"number\"\n                input.classList.add(\"productQuantity\")\n                input.name =\"productQuantity\"\n                input.min =\"1\"\n                input.max =\"100\"\n                input.value = item.quantity\n                //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n                input.addEventListener(\"change\",   function(event) {\n                    const article = event.target.closest(\"article.cart__item\")\n                    const productId = article.dataset.id\n                    const productColor = article.dataset.color\n                    const itemToDelete = panier.findIndex(product =>\n                        productId === product.id && productColor === product.color)\n                    if(itemToDelete !== -1){\n                        panier[itemToDelete].quantity = this.value\n                        savePanier(panier)\n                        loadPage()\n                    }\n                })\n//***********Fin de Copie de function  quantityInputToOrder   *******************    \n\n//***********Copie de function  deleteProduct(item)   *******************  \n\n        const contentDelete = document.createElement(\"div\")\n        contentDelete.classList.add(\"cart__item__content__settings__delete\")\n            const deleteP = document.createElement(\"p\")\n            deleteP.classList.add(\"deleteproduct\")\n            deleteP.textContent =\"Supprimer\"\n            //deleteP.addEventListener(\"click\", (d) =>deleteProduct(item))\n            deleteP.addEventListener(\"click\", function(event){\n                const article = event.target.closest(\"article.cart__item\")\n                const productId = article.dataset.id\n                const productColor = article.dataset.color\n                const itemToDelete = panier.findIndex(product =>\n                productId === product.id && productColor === product.color)\n                if(itemToDelete !== -1){\n                    panier.splice(itemToDelete, 1)\n                    article.remove()\n                    savePanier(panier)\n                    loadPage()\n                }\n            })\n//***********Fin de function  deleteProduct(item)  *******************  \n                     \n        appendtoArticle(Article, [divImg, contentDiv])\n        appendtoArticle(contentDiv, [descriptionDiv, settingsDiv])\n        appendtoArticle(settingsDiv, [settingsQuantityDiv, contentDelete])\n        appendtoArticle(descriptionDiv, [h2, p, p2])\n        appendtoArticle(settingsQuantityDiv, [quantityP, input])\n        appendtoArticle(contentDelete, [deleteP])\n                        \n        return { number : item.quantity, price: product.price}\n}   \n//***********Fin de MISE EN PAGE DE L'ARTICLE  *******************\nfunction appendtoArticle(article, array) {\n    array.forEach(item => {\n    article.appendChild(item)\n})\n}\nfunction displayTotalPrice(price){\n    const totalPrice = document.querySelector(\"#totalPrice\")\n    totalPrice.textContent = product.price\n }\n function displayTotalQuantity(quantity){\n    const totalQuantity = document.querySelector(\"#totalQuantity\")\n          totalQuantity.textContent = item.quantity\n }\n function QuantityInputToOrder(){\n    const input = document.createElement(\"input\")\n        input.type = \"number\"\n        input.classList.add(\"itemQuantity\")\n        input.name =\"itemQuantity\"\n        input.min =\"1\"\n        input.max =\"100\"\n        input.value = item.quantity\n        //input.addEventListener(\"change\", (e) => QuantityToOrder()) \n            if (input.value != item.quantity){\n                const newQuantity = document.querySelector(\".itemQuantity\").value;\n            }else{\n                input.value = item.quantity\n            }\n    console.log(product.color, item.quantity, product.price, item.quantity * product.price)                     \n\n    }\n// function updatePriceQuantity(id, newValue, item){\n    //const itemToUpdate = panier.find((item) => item.id === id)\n    //itemToUpdate.quantity = Number(newValue)\n    //item.quantity = itemToUpdate.quantity\n    //displayTotalQuantity()\n    //displayTotalPrice()\n    //deleteDataFromCache(item)\n //}\n\n// function updatePriceQuantity(id, newValue, item){\n   // \n    //item.quantity = document.querySelector(\".itemQuantity\")\n   // p2.textContent = product.price * input.value + \"€\"\n   //const selectElement = document.querySelector(\".itemQuantity\");\n\n  // selectElement.addEventListener('change', (event) => {\n     //const result = document.querySelector(\".itemQuantity\").value;\n     //result.textContent = `${event.target.value}`;\n  // });\n\nfunction savePanier(panier){\n    localStorage.setItem(\"panier\", JSON.stringify(panier))\n}\n\nconst orderButton = document.querySelector(\"#order\")\n      orderButton.addEventListener(\"click\", (e) => submitForm(e))\n\nfunction submitForm(e){\ne.preventDefault() //ne pas rafraîchir\nif (panier.lenght === 0) alert (\"Sélectionnez votre canapé\")\n//return\n\n//if (formIsInvalid()) return\nif (emailIsInvalid()) return\n\nconst body = makeRequestBody()\nfetch(\"http://localhost:3000/api/products/order\",{\nmethod : \"POST\",\nbody: JSON.stringify(body),\nHeaders:{\n    \"Content-type\":\"appplication/json\"\n}\n})\n.then((res) => res.json())\n.then((data) => {\nconst orderId = data.orderId\nwindow.location.href = \"confirmation.html\" + \"?orderId=\" + orderId\n})\n.catch((err) => console.error(err))\n}\nfunction formIsInvalid(){\n   // const form = document.querySelector(\"cart__order__form\")\n   const inputs = form.querySelectorAll(\"input\")\n    inputs.forEach((input) =>{\n        if (input.value === \"\"){\n            alert(\"Vous devez compléter ce champ\")\n            return true\n        }\n        return false\n    })\n}\nfunction emailIsInvalid(){\n    const email = document.querySelector(\"#email\").value\n    const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n    if (regex.test(email) === false) {\n        alert (\"Votre adresse mail n'est pas valide\")\n        return true\n    }\n    return false\n}\n\nfunction makeRequestBody(){\n    const form = document.querySelector(\"cart__order__form\")\n    inputFirstame = document.getElementById(\"firstName\").value;\n    inputLastname = document.getElementById(\"lastName\").value;\n    inputAddress = document.getElementById(\"address\").value;\n    inputCity = document.getElementById(\"city\").value;\n    inputEmail = document.getElementById(\"email\").value;\n\n    const body = {\n    contact: {\n        firstName: firstName,\n        lastName: lastName,\n        address: address,\n        city: city,\n        email: email\n      }\n      //products: getIdsFromCache()\n    }\n    return body\n}\n//pas besoin de faire split si seulement key et pas color\nfunction getIdsFromCache(){\n    const numberOfProducts = localStorage-length\n    const ids = []\n    for (let i = 0; i < numberOfProducts; i++){\n    const key = localStorage.key(i)\n    const id = key-split(\"-\")[0]\n    //const id = key-split(\"-\")[0]\n\n    ids.push(id)\n    }\n    return ids\n}\nFooter\n© 2023 GitHub, Inc.\nFooter navigation\n\n    Terms\n    Privacy\n    Security\n    Status\n    Docs\n    Contact GitHub\n    Pricing\n    API\n    Training\n    Blog\n    About\n\nKANAP/cart.js at main · lysianebo/KANAP\n"
        }
    ]
}